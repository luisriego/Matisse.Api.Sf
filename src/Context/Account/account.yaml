services:
    _defaults:
        autowire: true
        autoconfigure: true

    App\Context\Account\Infrastructure\Http\Controller\:
        public: true
        resource: './Infrastructure/Http/Controller/'
        tags: ['controller.service_arguments']

    App\Context\Account\:
        resource: './'
        exclude:
            - './Domain/Entity/'
            - './Infrastructure/Persistence/Entity/'
            - './Infrastructure/Http/Controller/'
            - './account.yaml'

    App\Context\Account\Application\UseCase\FindAccount\FindAccountQueryHandler:
        tags:
            - { name: 'messenger.message_handler', bus: 'query.bus' }

    App\Context\Account\Application\UseCase\GetAccountBalance\GetAccountBalanceQueryHandler:
        tags:
            - { name: 'messenger.message_handler', bus: 'query.bus' }

    App\Context\Account\Application\UseCase\SetInitialBalance\SetInitialBalanceCommandHandler:
        tags:
            - { name: 'messenger.message_handler', bus: 'command.bus' }

